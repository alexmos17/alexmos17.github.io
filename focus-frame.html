<!DOCTYPE html>
<html>
<body>
<script>
document.body.onfocus = function(e) {
  log("document.body for " + window.name + " focused. activeElement: " + document.activeElement.tagName);
};
document.body.onblur = function(e) {
  log("document.body for " + window.name + " blurred. activeElement: " + document.activeElement.tagName);
};

window.addEventListener("focus", function(event) { 
  log("window " + window.name + " focused"); 
}, false);

window.addEventListener("blur", function(event) { 
  log("window " + window.name + " blurred"); 
}, false);

function log(x) {
  console.log(x);
  document.getElementById("log").innerText += x + "\n";
}

document.write("Child frame: " + window.name + "<br>");
</script>

<input type='text' name='root-input' onfocus="log('received focus: child frame <input>')" onblur="log('lost focus: child frame <input>')">
<br>
<button onclick="parent.focus()">window.focus parent</button>
<button onclick="parent.frames['child1'].focus()">window.focus parent.child1</button><br>
<button onclick="parent.frames['child2'].focus()">window.focus parent.child2</button><br>
<div id="log"></div>
</body>
</html>
