<html>
<script>

function checkAncestorOrigins() {
  log("ancestorOrigins = " + JSON.stringify(location.ancestorOrigins));
}

function addFrame() {
  document.getElementById("frames").innerHTML = "<iframe src='http://alexmos-linux.kir/test.html' width=400></iframe>";
}

function log(msg) {
  var d = document.getElementById("logs");
  d.innerText += msg + "\n";
}

window.addEventListener("message", function (event) {
  log("Received message from " + event.origin + ": '" + event.data + "'");
}, false);

function sendMessageToParent() {
  parent.postMessage("foo", "*");
}

function sendMessageToParentParent() {
  parent.parent.postMessage("foo", "*");
}

</script>

<body>
Hello from alexmos17.github.io.<br>

<div id="ancestors"></div><br>
<div id="frames"></div><br>

<button onclick="checkAncestorOrigins()">Find out location.ancestorOrigins</button>
<button onclick="addFrame()">Add a frame (alexmos-linux)</button>
<button onclick="sendMessageToParent()">parent.postMessage</button>
<button onclick="sendMessageToParentParent()">parent.parent.postMessage</button>

<br>
<div id="logs"></div>

</body>
</html>

