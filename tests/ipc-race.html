<!doctype html>
<html>
<body>
<script>
function log(str) {
  document.querySelector("#log").innerHTML += str + "<br>";
}

setTimeout(() => { log("setTimeout scheduled from script start"); }, 0);

function frameLoaded() {
  log("frame element onload");  
  setTimeout(() => { log("setTimeout scheduled from frame onload"); }, 0);
}

window.onmessage = (e) => { log("onmessage: " + e.data); }
  
window.onload = () => { log("window.onload"); }

</script>

IPC race test page.<br>
<iframe src="https://alexmos17.github.io/tests/ipc-race-frame.html" onload="frameLoaded()"></iframe><br>
<div id="log"></div>
</body>
</html>
