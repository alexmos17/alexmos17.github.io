<html>
<body>
<script>
function addUnloadImg() {
window.addEventListener('unload', function () { 
  var img = document.createElement("img"); 
  img.src = document.getElementById("basepath").value + "foo.jpg"; 
  document.body.appendChild(img); 
});

</script>

Default path for requests from unload: <input type='text' id='basepath' value="http://127.0.0.1/"><br>

<button onclick="addUnloadImg()">Add unload (img)</button>
<button onclick="addUnloadScript()">Add unload (script)</button>
<button onclick="addUnloadXHR(false)">Add unload (sync xhr)</button>
<button onclick="addUnloadXHR(true)">Add unload (async xhr)</button>
<button onclick="addUnloadBeacon()">Add unload (sendBeacon)</button>
<button onclick="addUnloadConsoleLog()">Add unload (console.log)</button>
<br clear=all>
<!-- will become an OOPIF if main frame is loaded over HTTP -->
<iframe name="foo" src="https://alexmos17.github.io/tests/unload-frame.html"></iframe>

</body>
</html>
